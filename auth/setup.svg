<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="341px" preserveAspectRatio="none" style="width:1119px;height:341px;" version="1.1" viewBox="0 0 1119 341" width="1119px" zoomAndPan="magnify"><defs><filter height="300%" id="f1tqovecxpum2y" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter><filter height="1" id="b1tqovecxpum2y0" width="1" x="0" y="0"><feFlood flood-color="#FF0000" result="flood"/><feComposite in="SourceGraphic" in2="flood" operator="over"/></filter><filter height="1" id="b1tqovecxpum2y1" width="1" x="0" y="0"><feFlood flood-color="#0000FF" result="flood"/><feComposite in="SourceGraphic" in2="flood" operator="over"/></filter><filter height="1" id="b1tqovecxpum2y2" width="1" x="0" y="0"><feFlood flood-color="#008000" result="flood"/><feComposite in="SourceGraphic" in2="flood" operator="over"/></filter></defs><g><line style="stroke: #A80036; stroke-width: 1.0;" x1="116" x2="116" y1="88.2969" y2="229.9609"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="116" x2="116" y1="229.9609" y2="257.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="116" x2="116" y1="257.9609" y2="267.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="382" x2="382" y1="88.2969" y2="229.9609"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="382" x2="382" y1="229.9609" y2="257.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="382" x2="382" y1="257.9609" y2="267.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="524" x2="524" y1="88.2969" y2="229.9609"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="524" x2="524" y1="229.9609" y2="257.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="524" x2="524" y1="257.9609" y2="267.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="723" x2="723" y1="88.2969" y2="229.9609"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="723" x2="723" y1="229.9609" y2="257.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="723" x2="723" y1="257.9609" y2="267.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="916" x2="916" y1="88.2969" y2="229.9609"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="916" x2="916" y1="229.9609" y2="257.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="916" x2="916" y1="257.9609" y2="267.9609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="217" x="5" y="84.9951">Resource server administrator</text><ellipse cx="116.5" cy="15" fill="#FEFECE" filter="url(#f1tqovecxpum2y)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M116.5,23 L116.5,50 M103.5,31 L129.5,31 M116.5,50 L103.5,65 M116.5,50 L129.5,65 " fill="none" filter="url(#f1tqovecxpum2y)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#f1tqovecxpum2y)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="129" x="316" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="115" x="323" y="72.9951">Resource server</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="99" x="472" y="84.9951">Data provider</text><ellipse cx="524.5" cy="15" fill="#FEFECE" filter="url(#f1tqovecxpum2y)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M524.5,23 L524.5,50 M511.5,31 L537.5,31 M524.5,50 L511.5,65 M524.5,50 L537.5,65 " fill="none" filter="url(#f1tqovecxpum2y)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#f1tqovecxpum2y)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="189" x="627" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="175" x="634" y="72.9951">DataSetu Catalog server</text><rect fill="#FEFECE" filter="url(#f1tqovecxpum2y)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="168" x="830" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="154" x="837" y="72.9951">DataSetu Auth server</text><polygon fill="#FF0000" points="370.5,115.4297,380.5,119.4297,370.5,123.4297,374.5,119.4297" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="116.5" x2="376.5" y1="119.4297" y2="119.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="123.5" y="114.3638">[1]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="148.5" y="114.3638">Installs resource server certificate</text><polygon fill="#FF0000" points="393.5,144.5625,383.5,148.5625,393.5,152.5625,389.5,148.5625" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="387.5" x2="523.5" y1="148.5625" y2="148.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="399.5" y="143.4966">[2]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="424.5" y="143.4966">Publishes data</text><polygon fill="#008000" points="711.5,173.6953,721.5,177.6953,711.5,181.6953,715.5,177.6953" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="524.5" x2="717.5" y1="177.6953" y2="177.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="20" x="531.5" y="172.6294">[3]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="151" x="555.5" y="172.6294">Creates a catalog entry</text><polygon fill="#008000" points="904,217.9609,914,221.9609,904,225.9609,908,221.9609" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="524.5" x2="910" y1="221.9609" y2="221.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="531.5" y="209.3286">[4]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="182" x="556.5" y="201.7622">HTTPS POST /auth/v1/acl/set</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="339" x="556.5" y="216.895">body={"policy":&lt;access control policy in aperture&gt;}</text><path d="M921,193.2617 L921,218.2617 L1110,218.2617 L1110,203.2617 L1100,193.2617 L921,193.2617 " fill="#FBFB77" filter="url(#f1tqovecxpum2y)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1100,193.2617 L1100,203.2617 L1110,203.2617 L1100,193.2617 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="168" x="927" y="210.3286">Set access control policies</text><rect fill="#DDDDDD" height="58.8906" rx="5" ry="5" style="stroke: #000000; stroke-width: 1.0;" width="724" x="199.5" y="266.9609"/><text fill="#000000" filter="url(#b1tqovecxpum2y0)" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="217.5" y="284.9561"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="221.5" y="284.9561"/><text fill="#FF0000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="94" x="221.5" y="284.9561">Unspecified</text><text fill="#000000" filter="url(#b1tqovecxpum2y1)" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="217.5" y="301.2529"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="221.5" y="301.2529"/><text fill="#0000FF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="451" x="221.5" y="301.2529">Server requires a valid certificate (TLS communication)</text><text fill="#000000" filter="url(#b1tqovecxpum2y2)" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="217.5" y="317.5498"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="221.5" y="317.5498"/><text fill="#008000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="696" x="221.5" y="317.5498">Both parties require a valid certificate (TLS communication, mutually authenticated)</text><!--MD5=[22b09e1b34ffe2206a9d1c4e666dce66]
@startuml
hide footbox

autonumber "<b>[0]"


actor "Resource server administrator" as rsa
participant "Resource server" as rs

actor "Data provider" as p
participant "DataSetu Catalog server" as catalog

participant "DataSetu Auth server" as auth


rsa -[#red]> rs: Installs resource server certificate


p -[#red]> rs : Publishes data

p -[#green]> catalog : Creates a catalog entry



p -[#green]> auth : HTTPS POST /auth/v1/acl/set\nbody={"policy":<access control policy in aperture>}
note right: Set access control policies


...


legend 
<back:#red>   </back> <font color=red><b>Unspecified</b></font>
<back:blue>   </back> <font color=blue><b>Server requires a valid certificate (TLS communication)</b></font>
<back:green>   </back> <font color=green><b>Both parties require a valid certificate (TLS communication, mutually authenticated)</b></font>
endlegend
@enduml

PlantUML version 1.2020.18(Wed Sep 30 19:40:44 UTC 2020)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>